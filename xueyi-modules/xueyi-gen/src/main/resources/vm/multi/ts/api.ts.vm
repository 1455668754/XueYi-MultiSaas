import { ${BusinessName}IM,#if($table.tree || $api.export) ${BusinessName}PM,#end#if(!$table.tree) ${BusinessName}PPM,#end#if($table.tree) ${BusinessName}LM#else ${BusinessName}LRM#end } from '/@/model/${moduleName}';
import { defHttp } from '/@/utils/http/axios';
#if($api.export)
import { formatToDateTime } from '/@/utils/dateUtil';
import dayjs from 'dayjs';
#end

enum Api {
#if($api.list)
  LIST_${BUSINESSName} = '/${moduleName}/admin/${businessName}/list',
#end
#if($api.getInfo)
  GET_${BUSINESSName} = '/${moduleName}/admin/${businessName}/',
#end
#if($api.add)
  ADD_${BUSINESSName} = '/${moduleName}/admin/${businessName}',
#end
#if($api.edit)
  EDIT_${BUSINESSName} = '/${moduleName}/admin/${businessName}',
#end
#if($api.editStatus)
  EDIT_STATUS_${BUSINESSName} = '/${moduleName}/admin/${businessName}/status',
#end
#if($api.batchRemove)
  DEL_BATCH_${BUSINESSName} = '/${moduleName}/admin/${businessName}/batch/',
#end
#if($api.export)
  EXPORT_${BUSINESSName} = '/${moduleName}/admin/${businessName}/export',
#end
#if($api.cache)
  REFRESH_${BUSINESSName} = '/${moduleName}/admin/${businessName}/refresh',
#end
}
#set($IdName = $pkColumn.javaField)
#if($pkColumn.javaType == 'Long' || $pkColumn.javaType == 'String')
#set($IdType = 'string')
#elseif($pkColumn.javaType == 'Integer' || $pkColumn.javaType == 'Double' || $pkColumn.javaType == 'BigDecimal')
#set($IdType = 'number')
#else
#set($IdType = 'any')
#end
#if($api.list)

/** 查询${functionName}列表 */
export const list${BusinessName}Api = (params?: #if($table.tree)${BusinessName}PM#else${BusinessName}PPM#end) =>
  defHttp.get<#if($table.tree)${BusinessName}LM#else${BusinessName}LRM#end>({ url: Api.LIST_${BUSINESSName}, params });
#end
#if($api.getInfo)

/** 查询${functionName}详细 */
export const get${BusinessName}Api = (${IdName}: ${IdType}) =>
  defHttp.get<${BusinessName}IM>({ url: Api.GET_${BUSINESSName}, params: ${IdName} });
#end
#if($api.add)

/** 新增${functionName} */
export const add${BusinessName}Api = (params: ${BusinessName}IM) =>
  defHttp.post({ url: Api.ADD_${BUSINESSName}, params });
#end
#if($api.edit)

/** 修改${functionName} */
export const edit${BusinessName}Api = (params: ${BusinessName}IM) =>
  defHttp.put({ url: Api.EDIT_${BUSINESSName}, params });
#end
#if($api.editStatus)
#set($StatusName = $statusColumn.javaField)
#if($statusColumn.javaType == 'Long' || $statusColumn.javaType == 'String')
#set($StatusType = 'string')
#elseif($statusColumn.javaType == 'Integer' || $statusColumn.javaType == 'Double' || $statusColumn.javaType == 'BigDecimal')
#set($StatusType = 'number')
#else
#set($StatusType = 'any')
#end

/** 修改${functionName}状态 */
export const editStatus${BusinessName}Api = (${IdName}: ${IdType}, ${StatusName}: ${StatusType}) =>
  defHttp.put({
    url: Api.EDIT_STATUS_${BUSINESSName},
    params: { ${IdName}: ${IdName}, ${StatusName}: ${StatusName} },
  });
#end
#if($api.batchRemove)

/** 删除${functionName} */
export const del${BusinessName}Api = (${IdName}s: ${IdType} | ${IdType}[]) =>
  defHttp.delete({ url: Api.DEL_BATCH_${BUSINESSName}, params: ${IdName}s.toString() });
#end
#if($api.export)

/** 导出${functionName} */
export const export${BusinessName}Api = async (params?: ${BusinessName}PM) =>
  defHttp.export<any>(
    { url: Api.EXPORT_${BUSINESSName}, params: params },
    '${functionName}_' + formatToDateTime(dayjs()) + '.xlsx',
  );
#end
#if($api.cache)

/** 刷新${functionName}缓存 */
export const refresh${BusinessName}Api = () => defHttp.get({ url: Api.REFRESH_${BUSINESSName} });
#end